<!DOCTYPE html>
<html>

    <head>
        <title>Post Item Page</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- UIkit CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.11.1/dist/css/uikit.min.css" />

        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />
        <!-- <link href="http://fonts.googleapis.com/css?family=Cookie" rel="stylesheet" type="text/css" /> -->

        <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css" />

        <link rel="stylesheet" href="../css/postItem.css" />
        <link rel="stylesheet" href="../css/style.css" />

        <!-- UIkit JS -->
        <script src="https://cdn.jsdelivr.net/npm/uikit@3.11.1/dist/js/uikit.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/uikit@3.11.1/dist/js/uikit-icons.min.js"></script>
    </head>

    <body>
        <div class="main-container">
            <header>
        <!-- Navbar -->

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="./VPTestHome.html">
              <img src="../images/Gmart.png" width="30" height="30" alt="">
            </a>
            <a class="navbar-brand" href="./VPTestHome.html">GatorMart</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
  
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="./aboutUs.html">About Us <span class="sr-only">(current)</span></a>
                </li>
              </ul>
              <form class="form-inline my-2 my-lg-0" id="navBarSearchForm">
                <div class="select-dropdown">
                  <select name="category" id="category">
                    <option value="">All</option>
                    <option value="Textbook">Textbooks</option>
                    <option value="Notes">Notes</option>
                    <option value="Furniture">Furniture</option>
                  </select>
                </div>
                <input class="form-control mr-sm-2" id = "search" autocomplete = "off" type="text" placeholder="Search" aria-label="Search">
  
                <button class="btn btn-warning my-2 my-sm-0 search-button" type="submit"
                  onclick="test(document.getElementById('search').value, document.getElementById('category').value)">
                  <i class="fa fa-search fa-lg" aria-hidden="true"></i>
                </button>
              </form>
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="./postItem.html">Post/Sell <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                  <a class="nav-link" href="./login.html">Login <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                  <a class="nav-link" href="./userPage.html">My Page <span class="sr-only">(current)</span></a>
                </li>
              </ul>
            </div>
          </nav>
  
          <!-- Navbar -->

            </header>
            <div class="page-wrap">
                <div class="grid-container">
                    <div class="form-box">
                        <!-- TODO: Fill out action when route is done-->
                        <form class="form-postitems" method="POST" enctype="multipart/form-data" action="/">
                            <div class="banner">
                                <div class="h1-postitems">Post Item For Sale Or List Jobs</div>
                            </div>
                            <div class="item">
                                <label for="name"> Item/Job Name<span>*</span></label>
                                <input id="name" type="text" name="name" required />
                            </div>
                            <div class="item">
                                <label for="price">Price<span>*</span></label>
                                <input id="number" type="text" name="price" required />
                            </div>
                            <div class="item">
                                <label for="condition">Condition </label>
                                <input id="condition" type="text" name="condition" />
                            </div>
                            <div class="item">
                                <label for="location">Location<span>*</span></label>
                                <input id="location" type="text" name="location" required />
                            </div>
                            <div class="item">
                                <label for="picture">Upload Picture<span>*</span></label>
                                <input id="picture" type="file" required />
                            </div>
                            <div class="item">
                                <label for="instructions">Description<span>*</span></label>
                                <textarea id="instructions" rows="3" required></textarea>
                            </div>
                            <p><small>0/100 characters</small></p>
                            <div class="btn-block">
                                <button type="button" class="light" href="/">Cancel</button>
                                <button type="submit" class="certain" href="/">Submit</button>
                                <p><small>May take up to 24 hours for approval</small></p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Footer Starts-->
            <div class="footer">
                <footer class="footer-distributed" id="footer">
                    <div class="footer-left">
                        <img src="" />
                        <h3>Gator<span>Mart</span></h3>

                        <p class="footer-links">
                            <a href="#">Home</a>
                            |
                            <a href="#">About</a>
                            |
                            <a href="#">Contact</a>
                        </p>

                        <p class="footer-company-name">Â© 2022 GatorMart Pvt. Ltd.</p>
                    </div>

                    <div class="footer-center">
                        <div>
                            <i class="fa fa-lightbulb-o"></i>
                            <p>
                                <span>Software Engineering - CSC648/848</span>
                                <span>Spring, 2022, Section 03, Team 02</span>
                            </p>
                        </div>

                        <div>
                            <i class="fa fa-envelope"></i>
                            <p>
                                <a href=""><span>support@gatormart.com</span></a>
                            </p>
                        </div>
                    </div>
                    <div class="footer-right">
                        <p class="footer-company-about">
                            <span>About GatorMart</span>
                            GatorMart is an online hub exclusively for SFSU community. GatorMart provides service to
                            current students,
                            faculty, and staff.
                        </p>
                        <div class="footer-icons">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-instagram"></i></a>
                            <a href="#"><i class="fa fa-linkedin"></i></a>
                            <a href="#"><i class="fa fa-youtube"></i></a>
                        </div>
                    </div>
                </footer>
            </div>
            <!-- Footer Ends-->
        </div>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    </body>

</html>

<script>
    function test(search, category) {
      if(search == ""){
        search = "EMPTYSEARCHTEMP"
      }
      if(category == ""){
        category = "EMPTYCATEGORYTEMP"
      }
      fetch(`/postItem.html/${search}/${category}`, {method: "get"})
                  .then(async (response) => {
                    return await response.json()
                  })
                  .then(async (result) => 
                  {
                    const searchResult = result.searchResult;
                    sessionStorage.searchResult = JSON.stringify(searchResult)
                    sessionStorage.searchTerm = search
                    sessionStorage.categoryTerm = category
  
                    document.location.href = '/VPResult.html'
      })
    }
  </script>